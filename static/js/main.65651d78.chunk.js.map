{"version":3,"sources":["Constants.js","components/helpers/Fetching.js","images/mace.png","components/NavBar.js","components/LogIn.js","components/SignUp.js","components/subcomponents/NewPost.js","components/helpers/General.js","images/ditto.jpeg","components/subcomponents/EditPost.js","components/subcomponents/NewComment.js","components/subcomponents/EditComment.js","components/subcomponents/UserDisplay.js","components/subcomponents/AttributeList.js","components/subcomponents/OptionList.js","components/subcomponents/Comment.js","components/subcomponents/Post.js","components/user/Messages.js","components/DashBoard.js","components/subcomponents/EditProfile.js","components/user/Profile.js","components/user/Friends.js","components/User.js","components/PrivateRoute.js","App.js","index.js"],"names":["API_URL","getRequestOptions","method","data","headers","localStorage","getItem","body","FormData","JSON","stringify","createFormData","param","formData","Object","entries","forEach","key","value","append","fetchApi","path","a","resource","split","slice","includes","requestOptions","fetch","response","status","json","NavBar","props","userId","hideMenu","then","ok","onLogout","Promise","reject","console","dir","catch","err","error","logo","className","style","backgroundImage","Mace","id","to","onClick","Login","useState","email","setEmail","password","setPassword","history","useHistory","e","preventDefault","user","setItem","get","onLogin","push","onSubmit","htmlFor","type","name","onChange","target","SignUp","setUser","first_name","last_name","setName","changeUser","changeName","log","Error","updateProfile","required","NewPost","content","photo","post","setPost","handleChange","files","placeholder","onNewPost","getFullName","profile","getAvatarUrl","img","transformKey","map","w","toUpperCase","join","getPictureName","picture","EditPost","edit","setEdit","alteredEdit","onEditPost","NewComment","comment","setComment","title","parent","onNewComment","EditComment","onEditComment","UserDisplay","user_id","avatar","AttributeList","entity","likesCount","commentsCount","date","likes","setLikes","likesChanged","setLikesChanged","showLikes","setShowLikes","useRef","newLikes","handleClickOutside","current","contains","useEffect","document","addEventListener","removeEventListener","likeList","like","likesBox","ref","length","onShowChildren","undefined","ReactTimeAgo","Date","OptionList","editable","likeable","onToggleEdit","onDelete","onUnlike","onLike","Comment","currentUserId","replies","setReplies","repliesView","setRepliesView","handleShowReplies","newReplies","commentable_id","commentable_type","newComment","onUpdateCommentCounter","handleEditComment","onUpdateReplies","handleDeleteComment","comments_count","onDeleteComment","updateReplies","par","filter","reply","handleUpdateLikeCounter","commentId","likeId","like_id","likes_count","likeable_id","likeable_type","newLike","onUpdateLikeCounter","commentForm","commentView","replyList","created_at","Post","comments","setComments","commentsView","setCommentsView","handleShowComments","newComments","handleUpdateCommentCounter","postForm","postView","src","alt","pop","commentList","onDeletePost","Messages","userStatus","posts","setPosts","initPosts","useCallback","newPosts","newPost","handleEditPost","handleDeletePost","postId","isCurrentUser","noFriendWarning","isFriend","postList","index","DashBoard","EditProfile","formList","keys","editWithoutAvatar","onProfileChange","onChangeView","Profile","setProfile","view","setView","initProfile","newProfile","changeView","header","onProfileUpdate","profileList","profileView","Friends","friends","setFriends","confirmed","pending","proposed","possible","catView","setCatView","initFriends","newFriends","categories","text","friend_id","updateFriendList","result","remove","from","friend","add","categoryList","category","isEmpty","handleCategoryView","getFriendList","cat","handleRequest","User","useRouteMatch","url","replace","useParams","setHeader","setUserStatus","initHeader","current_user_id","is_current_user","is_friend","updateHeader","newHeader","isEqual","headerTag","exact","activeClassName","render","PrivateRoute","Component","component","rest","App","setCurrentUserId","y","setY","setHideMenu","initAuthorization","handleScroll","window","currentTarget","scrollY","footer","href","LogIn","TimeAgo","addDefaultLocale","en","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.65651d78.chunk.js","sourcesContent":["const prod = {\n  API_URL: 'https://morning-tundra-31933.herokuapp.com/api'\n}\n\nconst dev = {\n  API_URL: 'http://localhost:3001/api'\n}\n \n export const API_URL = process.env.NODE_ENV === 'development' ? \n  dev.API_URL : prod.API_URL;\n ","import { API_URL } from '../../Constants'\n\nfunction getRequestOptions(method, data) {\n  let headers = { 'Authorization': localStorage.getItem('token') }\n  let body = data;\n  if (!(body instanceof FormData)) {\n    headers['Content-Type'] = 'application/json';\n    body = JSON.stringify(data);\n  }\n  return { method, headers, body };\n}\n\nfunction createFormData(data, param) {\n  const formData = new FormData();\n  Object.entries(data).forEach(([key, value]) => {\n    formData.append(`${param}[${key}]`, value);\n  })\n  return formData;\n}\n\nexport async function fetchApi(path, method, data) {\n  const resource = path.split('/')[1];\n  const param = resource.slice(0, -1);\n  const formDataCheck = ['POST', 'PUT'].includes(method) && \n    ['posts', 'profiles'].includes(resource);\n  if (formDataCheck) {\n    data = createFormData(data, param);\n  } else if (data) {\n    data = { [param]: data };\n  }\n  const requestOptions = getRequestOptions(method, data);\n  const response = await fetch(API_URL + path, requestOptions);\n  if (response.status === 401) return false;\n  if (method !== 'DELETE' || resource === 'friendships') { \n    return await response.json();\n  }\n}\n","export default __webpack_public_path__ + \"static/media/mace.a93de9a5.png\";","import { Link } from \"react-router-dom\"\nimport { API_URL } from '../Constants'\nimport Mace from '../images/mace.png'\n\nfunction NavBar(props) {\n\n  const { userId, hideMenu } = props;\n\n  async function handleLogout() {\n    const requestOptions = {\n      method: 'DELETE',\n      headers: { \n        'Content-Type': 'application/json',\n        'Authorization': localStorage.getItem('token')\n      }\n    }\n    fetch(API_URL + '/logout', requestOptions) \n      .then(response => {\n        if(response.ok) {\n          props.onLogout();\n          return response.json();\n        } else {\n          return response.json().then(json => Promise.reject(json));\n        }\n      })\n      .then(json => console.dir(json))\n      .catch(err => console.error(err));\n  }\n\n  const logo = (\n    <div \n      className='logo'\n      style={{ backgroundImage: `url(${Mace})` }}>\n    </div>\n  );\n\n  return (\n    <div id=\"navbar\">\n      <header>\n        <h1 className='macebook'>Macebook</h1>\n        {logo}\n        <p>a Very Medieval Social Network</p>\n      </header>\n      {!hideMenu &&\n        <nav>\n          <div><Link to={'/'}>Home</Link></div>\n          <div><Link to={'/' + userId}>My Page</Link></div>\n          <div>\n            <Link to={'/login'} onClick={handleLogout}>\n              <i className=\"fas fa-sign-out-alt\"></i>\n            </Link>\n          </div>\n        </nav>}\n    </div>\n  );\n}\n\nexport default NavBar;","import { useState } from 'react'\nimport { Link, useHistory } from \"react-router-dom\"\nimport { API_URL } from '../Constants'\n\nfunction Login(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const history = useHistory();\n\n  function changeEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function changePassword(e) {\n    setPassword(e.target.value);\n  }\n\n  async function handleLogin(e) {\n    e.preventDefault();\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ user: { email: email, password: password }})\n    }\n    try {\n      const response = await fetch(API_URL + '/login', requestOptions);\n      if (response.ok) {\n        localStorage.setItem('token', response.headers.get('Authorization'));\n        await props.onLogin();\n        const json = await response.json();\n        history.push('/');\n        console.dir(json);\n      }\n    } catch(err) {\n      console.error(err);\n    }\n  }\n\n  return (\n    <div id=\"login\">\n      <form onSubmit={handleLogin}>\n        <div>\n          <label htmlFor='email'>Email:</label>\n          <input \n            type='email' \n            id='email' \n            name='email'\n            value={email} \n            onChange={changeEmail}/>\n        </div>\n        <div>\n          <label htmlFor='password'>Password:</label>\n          <input \n            type='password' \n            id='password' \n            name='password'\n            value={password} \n            onChange={changePassword}/>\n        </div>\n        <input \n          type='submit' \n          className='button'\n          value='Log In'/>\n      </form>\n      <Link to={'/signup'}>No account yet? Sign up here.</Link>\n    </div>\n  );\n}\n\nexport default Login;","import { useState } from 'react'\nimport { Link } from \"react-router-dom\"\nimport { API_URL } from '../Constants'\nimport { fetchApi } from './helpers/Fetching'\n\nfunction SignUp() {\n\n  const [user, setUser] = useState({\n    email: '',\n    password: ''\n  })\n  const [name, setName] = useState({\n    first_name: '',\n    last_name: ''\n  })\n\n  function changeUser(e) {\n    setUser({...user, [e.target.name]: e.target.value});\n  }\n\n  function changeName(e) {\n    setName({...name, [e.target.name]: e.target.value});\n  }\n\n  function handleSignup(e) {\n    e.preventDefault();\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ user, name})\n    }\n    fetch(API_URL + '/signup', requestOptions)\n      .then(response => {\n        if (response.ok) {\n          console.log(response.headers.get('Authorization'));\n          localStorage.setItem('token', response.headers.get('Authorization'));\n          return response.json();\n        } else {\n          throw new Error(response)\n        }\n      })\n      .then(json => {\n        updateProfile(json.data.id)\n        console.dir(json);\n      })\n      .catch(err => console.error(err))\n  }\n\n  async function updateProfile(id) {\n    const path = '/profiles/' + id;\n    await fetchApi(path, 'PUT', name);\n  }\n\n  return (\n    <div id=\"signup\">\n      <form onSubmit={handleSignup}>\n        <div>\n          <label htmlFor='email'>Email:</label>\n          <input \n            type='email' \n            id='email' \n            name='email'\n            value={user.email} \n            onChange={changeUser}/>\n        </div>\n        <div>\n          <label htmlFor='password'>Password:</label>\n          <input \n            type='password' \n            id='password' \n            name='password'\n            value={user.password} \n            onChange={changeUser}/>\n        </div>\n        <div>\n          <label htmlFor='firstName'>First Name:</label>\n          <input \n            type='text' \n            required\n            id='firstName' \n            name='first_name'\n            value={name.first_name} \n            onChange={changeName}/>\n        </div>\n        <div>\n          <label htmlFor='lastName'>Last Name:</label>\n          <input \n            type='text' \n            required\n            id='lastName' \n            name='last_name'\n            value={name.last_name} \n            onChange={changeName}/>\n        </div>\n        <input \n          type='submit' \n          className='button'\n          value='Sign Up'/>\n      </form>\n      <Link to={'/login'}>Have an account? Log in here.</Link>\n    </div>\n  );\n}\n\nexport default SignUp;\n","import { useState } from 'react'\n\nfunction NewPost(props) {\n\n  const [post, setPost] = useState(initPost());\n\n  function initPost() {\n    return {\n      content: '',\n      photo: null\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onNewPost(post);\n    setPost(initPost());\n  }\n\n  function handleChange(e) {\n    if (e.target.type === 'file') {\n      setPost({...post, [e.target.name]: e.target.files[0]});\n    } else {\n      setPost({...post, [e.target.name]: e.target.value});\n    }\n  }\n\n  function removePhoto(e) {\n    e.preventDefault();\n    setPost({...post, photo: null});\n  }\n\n  return (\n    <article id=\"new-post\">\n      <form>\n        <textarea\n          className='content'\n          name='content'\n          value={post.content}\n          placeholder='Add a new Post here...'\n          onChange={handleChange}>\n        </textarea>\n        <div className='file-upload'>\n          <label className='icon-button'>\n            <i className=\"far fa-file-image\"></i>\n            <input\n              type='file'\n              name='photo'\n              onChange={handleChange}/>\n          </label>\n          <button \n            className='icon-button'\n            onClick={removePhoto}>\n            <i className=\"far fa-trash-alt\"></i>\n          </button>\n          <span>{post.photo ? post.photo.name : 'No File Selected'}</span>\n        </div>\n        <input \n          type='submit' \n          className='button'\n          value='Post'\n          onClick={handleSubmit}/>\n      </form>\n    </article>\n  );\n}\n\nexport default NewPost;","import Ditto from '../../images/ditto.jpeg'\n\nexport function getFullName(profile) {\n  return profile.first_name + ' ' + profile.last_name;\n}\n\nexport function getAvatarUrl(img) {\n  return img ? `url(${img})` : `url(${Ditto})`;\n}\n\nexport function transformKey(key) {\n  return key.split('_')\n            .map(w => w[0].toUpperCase() + w.slice(1))\n            .join(' ');\n}\n\nexport function getPictureName(picture, name) {\n  if (picture[name] === null) {\n    return 'No File Selected';\n  } else {\n    return picture[name].name ? picture[name].name : `Current ${name}`;\n  }\n} \n","export default \"data:image/jpeg;base64,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\"","import { useState } from 'react'\nimport { getPictureName } from '../helpers/General'\n\nfunction EditPost(props) {\n\n  const post = props.post\n\n  const [edit, setEdit] = useState({\n    content: post.content,\n    photo: post.photo\n  });\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (typeof edit.photo === 'string') { \n      const { photo, ...alteredEdit } = edit;\n      props.onEditPost(alteredEdit);\n    } else {\n      props.onEditPost(edit);\n    }\n  }\n\n  function handleChange(e) {\n    if (e.target.type === 'file') {\n      setEdit({...edit, [e.target.name]: e.target.files[0]});\n    } else {\n      setEdit({...edit, [e.target.name]: e.target.value});\n    } console.log(edit)\n  }\n\n  function removePhoto(e) {\n    e.preventDefault();\n    setEdit({...edit, photo: null});\n  }\n\n  return (\n    <article className=\"edit-post\">\n      <form>\n        <textarea\n          className='content'\n          name='content'\n          value={edit.content}\n          onChange={handleChange}>\n        </textarea>\n        <div className='file-upload'>\n          <label className='icon-button'>\n            <i className=\"far fa-file-image\"></i>\n            <input\n              type='file'\n              name='photo'\n              onChange={handleChange}/>\n          </label>\n          <button \n            className='icon-button'\n            onClick={removePhoto}>\n            <i className=\"far fa-trash-alt\"></i>\n          </button>\n          <span>{getPictureName(edit, 'photo')}</span>\n        </div>\n        <input \n          type='submit' \n          className='button'\n          value='Edit'\n          onClick={handleSubmit}/>\n      </form>\n  </article>\n  );\n}\n\nexport default EditPost;\n","import { useState } from 'react'\n\nfunction NewComment(props) {\n\n  const [comment, setComment] = useState(initComment());\n\n  function initComment() {\n    return { content: '' };\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onNewComment(comment);\n    setComment(initComment());\n  }\n\n  function handleChange(e) {\n    setComment({...comment, [e.target.name]: e.target.value});\n  }\n\n  const title = props.parent === 'Post' ? 'Comment' : 'Reply'\n\n  return (\n    <div className=\"new-comment\">\n      <form onSubmit={handleSubmit}>\n        <textarea\n          className='content'\n          name='content'\n          value={comment.content}\n          placeholder={`Add a new ${title} here...`}\n          onChange={handleChange}>\n        </textarea>\n        <div>\n          <input \n            type='submit'\n            className='button' \n            value={title}/>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default NewComment;\n","import { useState } from 'react'\n\nfunction EditComment(props) {\n\n  const comment = props.comment\n\n  const [edit, setEdit] = useState({\n    content: comment.content\n  });\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onEditComment(edit, comment.id);\n  }\n\n  function handleChange(e) {\n    setEdit({...edit, [e.target.name]: e.target.value});\n  }\n\n  return (\n    <div className=\"edit-comment\">\n      <form>\n        <textarea\n          className='content'\n          name='content'\n          value={edit.content}\n          onChange={handleChange}>\n        </textarea>\n        <div>\n          <input \n            type='submit'\n            className='button' \n            value='Edit'\n            onClick={handleSubmit}/>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default EditComment;\n","import { Link } from 'react-router-dom'\nimport { getFullName, getAvatarUrl } from '../helpers/General';\n\nfunction UserDisplay(props) {\n  \n  const data = props.data;\n  const userId = data.user_id ? data.user_id : data.id;\n\n  return (\n    <header className=\"user-display\">\n      <div \n        className='avatar'\n        style={{ backgroundImage: getAvatarUrl(data.profile.avatar) }}>\n      </div>\n      <Link \n        to={`/${userId}`}\n        className='user-name'>\n        {getFullName(data.profile)}\n      </Link>\n    </header>\n  );\n}\n\nexport default UserDisplay;","import { useState, useRef, useEffect } from 'react'\nimport { fetchApi } from '../helpers/Fetching'\nimport { getFullName } from '../helpers/General';\nimport ReactTimeAgo from 'react-time-ago'\n\nfunction AttributeList(props) {\n\n  const { id, entity, parent, likesCount, commentsCount, date } = props;\n  const [likes, setLikes] = useState([]);\n  const [likesChanged, setLikesChanged] = useState(true);\n  const [showLikes, setShowLikes] = useState(false);\n  const content = useRef(null);\n\n  useEffect(() => {\n    showLikes ?\n      document.addEventListener('mousedown', handleClickOutside) :\n      document.removeEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [showLikes]);\n\n  useEffect(() => {\n    setLikesChanged(true);\n  }, [likesCount]);\n\n  async function displayLikes() {\n    if (likesChanged) {\n      const prefix = entity === 'post' ? 'P' : 'C';\n      const path = '/likes/' + prefix + id;\n      const newLikes = await fetchApi(path, 'GET');\n      setLikes(newLikes);\n    }\n    setShowLikes(true);\n  }\n\n  function handleClickOutside(e) {\n    if (!(content.current && content.current.contains(e.target))) {\n      setShowLikes(false);\n    }\n  }\n\n  const likeList = likes.map(like => {\n    return <li key={like.user_id}>{getFullName(like.profile)}</li>\n  });\n\n  const likesBox = (\n    <div>\n      <div className='overlay'></div>\n      <div className='likes'>\n        <i className=\"fas fa-window-close hide\"></i>\n        <div ref={content}>\n          <i className='far fa-thumbs-up'></i>\n          <ul>{likeList}</ul>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <ul className='attributes'>\n      {showLikes && (likes.length > 0) && likesBox}\n      <li className='likes-counter'>\n        <span onClick={displayLikes}>\n          <i className='far fa-thumbs-up'></i> {likesCount}\n        </span>\n      </li>\n      {parent !== 'Comment' &&\n        <li className='comments-counter'>\n          <span onClick={commentsCount > 0 ? props.onShowChildren : undefined}>\n            <i className=\"far fa-comment\"></i> {commentsCount}\n          </span>\n        </li>}\n      <li className='date'>\n        <ReactTimeAgo date={new Date(date)}/>\n      </li>\n    </ul>\n  )\n}\n\nexport default AttributeList;\n","function OptionList(props) {\n\n  const { entity, edit, editable, likeable } = props;\n\n  return (\n    <div className='options'>\n      {editable &&\n        <button \n          className={`toggle-edit-${entity} icon-button`}\n          onClick={props.onToggleEdit}>\n          <i className={'fas fa-' + (edit ? 'undo' : 'edit')}></i>\n        </button>}\n      {editable &&\n        <button \n          className={`delete-${entity} icon-button`}\n          onClick={props.onDelete}>\n          <i className=\"far fa-trash-alt\"></i>\n        </button>}\n      <button \n        className='like icon-button'\n        onClick={() => { likeable ? props.onUnlike() : props.onLike() }}>\n        <i className={'fas fa-thumbs-up ' + (likeable ? 'liked' : 'unliked')}></i>\n      </button>\n    </div>\n  )\n}\n\nexport default OptionList;\n","import { useState } from 'react'\nimport { fetchApi } from '../helpers/Fetching'\nimport NewComment from './NewComment'\nimport EditComment from './EditComment'\nimport UserDisplay from './UserDisplay'\nimport AttributeList from './AttributeList'\nimport OptionList from './OptionList'\n\nfunction Comment(props) {\n\n  const { parent, comment, currentUserId } = props;\n  const [replies, setReplies] = useState([]);\n  const [repliesView, setRepliesView] = useState(false);\n  const [edit, setEdit] = useState(false);\n\n  async function handleShowReplies() {\n    if (replies.length === 0) {\n      const path = '/comments/C' + comment.id;\n      const newReplies = await fetchApi(path, 'GET');\n      setReplies(newReplies);\n    }\n    setRepliesView(!repliesView);\n  }\n\n  function handleToggleEdit() {\n    setEdit(!edit);\n  }\n\n  async function handleNewComment(data) {\n    data.commentable_id = comment.id;\n    data.commentable_type = 'Comment';\n    const newComment = await fetchApi('/comments', 'POST', data);\n    setReplies([...replies, newComment]);\n    props.onUpdateCommentCounter(newComment.commentable_id, 1);\n    if (!repliesView) handleShowReplies();\n  }\n\n  async function handleEditComment(edit, id) {\n    if (parent === 'Post') {\n      props.onEditComment(edit, id);\n    }\n    else {\n      const path = '/comments/' + id;\n      const comment = await fetchApi(path, 'PUT', edit);\n      props.onUpdateReplies(comment);\n    }\n    setEdit(!edit);\n  }\n\n  async function handleDeleteComment() {\n    if (parent === 'Post') {\n      const value = -1 - comment.comments_count;\n      props.onDeleteComment(comment.id, value);\n      props.onUpdateCommentCounter(comment.id, -1);\n    }\n    else {\n      const path = '/comments/' + comment.id;\n      await fetchApi(path, 'DELETE');\n      props.onUpdateReplies(comment.id);\n      props.onUpdateCommentCounter(comment.commentable_id, -1);\n    }\n  }\n\n  function updateReplies(par) {\n    if (typeof par === 'number') {\n      setReplies(replies.filter(reply => reply.id !== par));\n    } else {\n      setReplies(replies.map(reply => reply.id === par.id ? par : reply));\n    }\n  }\n\n  function handleUpdateLikeCounter(commentId, likeId) {\n    const value = likeId ? 1 : -1;\n    setReplies(replies.map(comment => {\n      return comment.id === commentId ? \n        { ...comment, like_id: likeId, likes_count: comment.likes_count + value } : comment;\n    }));\n  }\n\n  async function handleLike() {\n    const data = {\n      likeable_id: comment.id,\n      likeable_type: 'Comment'\n    };\n    const newLike = await fetchApi('/likes', 'POST', data);\n    props.onUpdateLikeCounter(comment.id, newLike.id);\n  }\n\n  async function handleUnlike() {\n    const path = '/likes/' + comment.like_id;\n    await fetchApi(path, 'DELETE');\n    props.onUpdateLikeCounter(comment.id, false);\n  }\n\n  const commentForm = (\n    <EditComment\n      parent={parent}\n      comment={comment} \n      onEditComment={handleEditComment}/>\n  );\n\n  const commentView = (\n    <div className='comment-view'>\n      <p className='content'>{comment.content}</p>\n    </div>\n  );\n\n  const replyList = replies.map(reply => {\n    return <Comment \n      key={reply.id} \n      parent='Comment'\n      comment={reply}\n      currentUserId={currentUserId}\n      onEditComment={handleEditComment}\n      onDeleteComment={handleDeleteComment}\n      onUpdateReplies={updateReplies}\n      onUpdateCommentCounter={(id, value) => {props.onUpdateCommentCounter(id, value)}}\n      onUpdateLikeCounter={handleUpdateLikeCounter}/>\n  });\n\n  return (\n    <li className=\"comment\">\n      <UserDisplay data={comment}/>\n      {edit ? commentForm : commentView}\n      <AttributeList\n        id={comment.id}\n        entity={'comment'}\n        parent={parent}\n        likesCount={comment.likes_count}\n        commentsCount={comment.comments_count}\n        date={comment.created_at}\n        onShowChildren={handleShowReplies}/>\n      <OptionList\n        entity={'comment'}\n        edit={edit}\n        editable={currentUserId === comment.user_id}\n        likeable={comment.like_id}\n        onToggleEdit={handleToggleEdit}\n        onDelete={handleDeleteComment}\n        onLike={handleLike}\n        onUnlike={handleUnlike}/>\n      {repliesView && <ul>{replyList}</ul>}\n      {comment.commentable_type === 'Post' &&\n        <NewComment \n          parent='Comment'\n          onNewComment={handleNewComment}/>}\n    </li>\n  );\n}\n\nexport default Comment;\n","import { useState } from 'react'\nimport { fetchApi } from '../helpers/Fetching'\nimport EditPost from './EditPost'\nimport Comment from './Comment'\nimport NewComment from './NewComment'\nimport UserDisplay from './UserDisplay'\nimport AttributeList from './AttributeList'\nimport OptionList from './OptionList'\n\n\nfunction Post(props) {\n\n  const { post, currentUserId } = props;\n  const [comments, setComments] = useState([]);\n  const [commentsView, setCommentsView] = useState(false);\n  const [edit, setEdit] = useState(false);\n\n  function handleToggleEdit() {\n    setEdit(!edit);\n  }\n\n  function handleEditPost(edit) {\n    props.onEditPost(edit, post.id);\n    setEdit(!edit);\n  }\n\n  function handleDeletePost() {\n    props.onDeletePost(post.id);\n  }\n\n  async function handleShowComments() {\n    if (comments.length === 0) {\n      const path = '/comments/P' + post.id;\n      const newComments = await fetchApi(path, 'GET');\n      setComments(newComments);\n    }\n    setCommentsView(!commentsView);\n  }\n\n  async function handleNewComment(data) {\n    data.commentable_id = post.id;\n    data.commentable_type = 'Post';\n    const newComment = await fetchApi('/comments', 'POST', data);\n    setComments([...comments, newComment]);\n    props.onUpdateCommentCounter(post.id, 1);\n    if (!commentsView) handleShowComments();\n  }\n\n  async function handleEditComment(comment, id) {\n    const path = '/comments/' + id;\n    const edit = await fetchApi(path, 'PUT', comment);\n    setComments(comments.map(comment => comment.id === edit.id ? edit : comment));\n  }\n\n  async function handleDeleteComment(id, value) {\n    const path = '/comments/' + id;\n    await fetchApi(path, 'DELETE');\n    const newComments = comments.filter(comment => comment.id !== id);\n    setComments(newComments);\n    props.onUpdateCommentCounter(post.id, value);\n  }\n\n  function handleUpdateCommentCounter(id, value) {\n    setComments(comments.map(comment => {\n      return comment.id === id ?\n        { ...comment, comments_count: comment.comments_count + value } : comment;\n    }));\n    props.onUpdateCommentCounter(post.id, value);\n  }\n\n  function handleUpdateLikeCounter(commentId, likeId) {\n    const value = likeId ? 1 : -1;\n    setComments(comments.map(comment => {\n      return comment.id === commentId ? \n        { ...comment, like_id: likeId, likes_count: comment.likes_count + value } : comment;\n    }));\n  }\n\n  async function handleLike() {\n    const data = {\n      likeable_id: post.id,\n      likeable_type: 'Post'\n    };\n    const newLike = await fetchApi('/likes', 'POST', data);\n    props.onUpdateLikeCounter(post.id, newLike.id);\n  }\n\n  async function handleUnlike() {\n    const path = '/likes/' + post.like_id;\n    await fetchApi(path, 'DELETE');\n    props.onUpdateLikeCounter(post.id, false);\n  }\n\n  const postForm = (\n    <EditPost\n      post={post} \n      onEditPost={handleEditPost}/>\n  );\n\n  const postView = (\n    <div className='post-view'>\n      {post.photo && \n        <img \n          className='photo'\n          src={post.photo} \n          alt={post.photo.split('/').pop().split('.')[0]}/>}\n      <p className='content'>{post.content}</p>\n    </div>\n  );\n\n  const commentList = comments.map(comment => {\n    return <Comment \n      key={comment.id} \n      parent='Post'\n      comment={comment}\n      currentUserId={currentUserId}\n      onEditComment={handleEditComment}\n      onDeleteComment={handleDeleteComment}\n      onUpdateCommentCounter={handleUpdateCommentCounter}\n      onUpdateLikeCounter={handleUpdateLikeCounter}/>\n  });\n\n  return (\n    <article className=\"post\">\n      <UserDisplay data={post}/>\n      {edit ? postForm : postView}\n      <AttributeList\n        id={post.id}\n        entity={'post'}\n        likesCount={post.likes_count}\n        commentsCount={post.comments_count}\n        date={post.created_at}\n        onShowChildren={handleShowComments}/>\n      <OptionList\n        entity={'post'}\n        edit={edit}\n        editable={currentUserId === post.user_id}\n        likeable={post.like_id}\n        onToggleEdit={handleToggleEdit}\n        onDelete={handleDeletePost}\n        onLike={handleLike}\n        onUnlike={handleUnlike}/>\n      {commentsView && <ul>{commentList}</ul>}\n      <NewComment \n        parent='Post'\n        onNewComment={handleNewComment}/>\n    </article>\n  );\n}\n\nexport default Post;\n","import { useCallback, useEffect, useState } from 'react'\nimport { fetchApi } from '../helpers/Fetching'\nimport NewPost from '../subcomponents/NewPost'\nimport Post from '../subcomponents/Post'\n\nfunction Messages(props) {\n\n  const userStatus = props.userStatus;\n  const [posts, setPosts] = useState([]);\n\n  const initPosts = useCallback(async () => {\n    const path = userStatus.id ? '/posts/' + userStatus.id : '/posts';\n    const newPosts = await fetchApi(path, 'GET');\n    setPosts(newPosts);\n  }, [userStatus]);\n\n  useEffect(() => {\n    initPosts();\n  }, [initPosts]);\n\n  async function handleNewPost(post) {\n    const newPost = await fetchApi('/posts', 'POST', post);\n    setPosts([newPost, ...posts]);\n  }\n\n  async function handleEditPost(post, id) {\n    const path = '/posts/' + id;\n    const edit = await fetchApi(path, 'PUT', post);\n    setPosts(posts.map(post => post.id === edit.id ? edit : post));\n  }\n\n  async function handleDeletePost(id) {\n    const path = '/posts/' + id;\n    await fetchApi(path, 'DELETE');\n    setPosts(posts.filter(post => post.id !== id));\n  }\n\n  function handleUpdateCommentCounter(id, value) {\n    setPosts(posts.map(post => {\n      return post.id === id ?\n        { ...post, comments_count: post.comments_count + value } : post;\n    }));\n  }\n\n  function handleUpdateLikeCounter(postId, likeId) {\n    const value = likeId ? 1 : -1;\n    setPosts(posts.map(post => {\n      return post.id === postId ? \n        { ...post, like_id: likeId, likes_count: post.likes_count + value } : post;\n      }));\n  }\n\n  const newPost = userStatus.isCurrentUser &&\n    <NewPost onNewPost={handleNewPost}/>;\n\n  const noFriendWarning = !userStatus.isFriend && !userStatus.isCurrentUser &&\n    <div>Befriend this user if you want to see more</div>;\n\n  const postList = posts.map((post, index) => {\n    return <div key={post.id}>\n      {(index !== 0 || userStatus.isCurrentUser) && <hr/>}\n      <Post \n        post={post}\n        currentUserId={userStatus.currentUserId}\n        onUpdateCommentCounter={handleUpdateCommentCounter}\n        onUpdateLikeCounter={handleUpdateLikeCounter}\n        onEditPost={handleEditPost}\n        onDeletePost={handleDeletePost}/>\n      </div>\n  });\n\n  return (\n    <div id=\"messages\">\n      {newPost}\n      {noFriendWarning}\n      {postList}\n    </div>\n  );\n}\n\nexport default Messages;\n","import Messages from './user/Messages'\n\nfunction DashBoard(props) {\n\n  const userStatus = {\n    id: false,\n    currentUserId: props.currentUserId,\n    isCurrentUser: true\n  };\n\n  return (\n    <div id=\"dashboard\">\n      <Messages userStatus={userStatus}/>\n    </div>\n  );\n}\n\nexport default DashBoard;\n","import { useState } from 'react'\nimport { transformKey, getPictureName } from '../helpers/General'\n\nfunction EditProfile(props) {\n\n  const [edit, setEdit] = useState(props.profile);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (typeof edit.avatar === 'string') { \n      const { avatar, ...editWithoutAvatar } = edit;\n      props.onProfileChange(editWithoutAvatar);\n    } else {\n      props.onProfileChange(edit);\n    }\n  }\n\n  function handleChange(e) {\n    if (e.target.type === 'file') {\n      setEdit({...edit, [e.target.name]: e.target.files[0]})\n    } else {\n      setEdit({...edit, [e.target.name]: e.target.value})\n    }\n  }\n\n  const formList = Object.keys(edit).map(key => {\n    if (key === 'avatar') return false;\n    return (\n      <div key={key}>\n        <label>{transformKey(key) + ': '}</label>\n        <input\n          type='text'\n          name={key}\n          value={edit[key]}\n          onChange={handleChange}/>\n      </div>\n    )\n  });\n\n  return (\n    <div id=\"profile-edit\">\n      <form onSubmit={handleSubmit}>\n        {formList}\n        <div className='file-upload'>\n          <label>Avatar:</label>\n          <input\n            type='file'\n            id='avatar'\n            name='avatar'\n            onChange={handleChange}/>\n          <label \n            className='button'\n            htmlFor='avatar'>\n            Change\n          </label>\n          <span>{getPictureName(edit, 'avatar')}</span>\n        </div>\n        <input \n          type='submit' \n          className='button'\n          value='Confirm Changes'/>\n      </form>\n      <button \n        className='button'\n        onClick={() => {props.onChangeView()}}>\n        Back To View\n      </button>\n    </div>\n  );\n}\n\nexport default EditProfile;\n","import { useCallback, useEffect, useState } from 'react'\nimport { fetchApi } from '../helpers/Fetching';\nimport { transformKey } from '../helpers/General'\nimport EditProfile from '../subcomponents/EditProfile'\n\nfunction Profile(props) {\n\n  const userStatus = props.userStatus;\n  const [profile, setProfile] = useState({});\n  const [view, setView] = useState(true);\n\n  const initProfile = useCallback(async () => {\n    const path = '/profiles/' + userStatus.id;\n    const newProfile = await fetchApi(path, 'GET');\n    setProfile(newProfile);\n  }, [userStatus]);\n\n  useEffect(() => {\n    initProfile();\n  }, [initProfile]);\n\n  async function handleProfileChange(profile) {\n    const path = '/profiles/' + userStatus.id;\n    const newProfile = await fetchApi(path, 'PUT', profile);\n    setProfile(newProfile);\n    changeView();\n    const header = {\n        first_name: newProfile.first_name,\n        last_name: newProfile.last_name,\n        avatar: newProfile.avatar\n    };\n    props.onProfileUpdate(header);\n  }\n\n  function changeView() {\n    setView(!view);\n  }\n\n  const profileList = Object.entries(profile).map(([key, value]) => {\n    if (key === 'avatar') return false;\n    return (\n      <tr key={key} className={key}>\n        <td>{transformKey(key) + ': '}</td>\n        <td>{value}</td>\n      </tr>\n    );\n  });\n\n  const profileView = (\n    <div id='profile-view'>\n      <table><tbody>{profileList}</tbody></table>\n      {userStatus.isCurrentUser &&\n        <button \n          className='button'\n          onClick={changeView}>\n          Change Profile\n        </button>\n      }\n    </div>\n  );\n\n  const content = view ? \n    profileView :\n    <EditProfile \n      profile={profile} \n      onProfileChange={handleProfileChange}\n      onChangeView={changeView}/>;\n  \n  const noFriendWarning = <div>Befriend this user if you want to see more</div>;\n\n  return (\n    <div id=\"profile\">\n      {!userStatus.isFriend && !userStatus.isCurrentUser ? \n        noFriendWarning : content}\n    </div>\n  );\n}\n\nexport default Profile;\n","import { useState, useEffect, useCallback } from 'react'\nimport { fetchApi } from '../helpers/Fetching';\nimport isEmpty from 'lodash/isEmpty'\nimport UserDisplay from '../subcomponents/UserDisplay'\n\nfunction Friends(props) {\n\n  const userStatus = props.userStatus;\n  const [friends, setFriends] = useState([]);\n  const [catView, setCatView] = useState({\n    confirmed: true, \n    pending: true,\n    proposed: true,\n    possible: true\n  });\n\n  const initFriends = useCallback(async () => {\n    const path = '/friendships/' + userStatus.id;\n    const newFriends = await fetchApi(path, 'GET');\n    setFriends(newFriends);\n  }, [userStatus]);\n\n  useEffect(() => {\n    initFriends();\n  }, [initFriends]);\n\n  const categories = {\n    confirmed: {\n      text: 'Defriend',\n      method: 'DELETE'\n    },\n    pending: {\n      text: 'Accept Request',\n      method: 'PUT'\n    },\n    proposed: {\n      text: 'Awaiting Confirmation...',\n      method: false\n    },\n    possible: {\n      text: 'Request',\n      method: 'POST'\n    }\n  };\n\n  async function handleRequest(method, id) {\n    const path = method === 'POST' ? '/friendships' : '/friendships/' + id;\n    const data = method === 'POST' ? { friend_id: id } : null;\n    const result = await fetchApi(path, method, data);\n    updateFriendList(result);\n  }\n\n  function updateFriendList(result) {\n    const remove = friends[result.from].filter(friend => {\n      return friend.id !== result.data.id;\n    });\n    const add = [result.data, ...friends[result.to]];\n    setFriends({\n      ...friends,\n      [result.from]: remove,\n      [result.to]: add\n    });\n  }\n\n  function handleCategoryView(category) {\n    setCatView({ \n      ...catView, \n      [category]: !catView[category] \n    });\n  }\n\n  const categoryList = Object.keys(friends).map(category => {\n    return (\n      !isEmpty(friends[category]) &&\n      <li \n        key={category}\n        className='category'>\n        <header onClick={() => handleCategoryView(category)}> \n          <i className={'fas fa-chevron-' + (catView[category] ? 'down' : 'up')}></i>\n          &nbsp;{category}\n        </header>\n        {catView[category] && <ul>{getFriendList(category)}</ul>}\n      </li>\n    )\n  });\n\n\n  function getFriendList(category) {\n    return friends[category].map(friend => {\n      return (\n        <li \n          key={friend.id}\n          className='friend'>\n          <UserDisplay data={friend}/>\n          {userStatus.isCurrentUser && \n            renderButton(categories[category], friend.id)}\n        </li>\n      )\n    })\n  }\n\n  function renderButton(cat, id) {\n    return (\n      <div className='friend-request'>\n        {cat.method ?\n        (<button \n          className='button'\n          onClick={() => handleRequest(cat.method, id)}>\n          {cat.text}\n        </button>) :\n        cat.text}\n      </div>\n    );\n  }\n\n  return (\n    <div id=\"friends\">\n      <ul>{categoryList}</ul>\n    </div>\n  );\n}\n\nexport default Friends;\n","import { useState, useEffect, useCallback } from 'react'\nimport { Switch, Route, NavLink, useRouteMatch, useParams } from \"react-router-dom\"\nimport { getFullName, getAvatarUrl } from \"./helpers/General\";\nimport { fetchApi } from './helpers/Fetching';\nimport isEqual from 'lodash/isEqual'\nimport Messages from './user/Messages'\nimport Profile from './user/Profile'\nimport Friends from './user/Friends'\n\nfunction User() {\n\n  let { path, url } = useRouteMatch();\n  path = path.replace(/\\/$/, '');\n  url = url.replace(/\\/$/, '');\n\n  const { userId } = useParams();\n  const [header, setHeader] = useState({\n    first_name: '',\n    last_name: '',\n    avatar: null\n  });\n  const [userStatus, setUserStatus] = useState({\n    id: userId,\n    currentUserId: null,\n    isCurrentUser: false,\n    isFriend: true\n  });\n\n  const initHeader = useCallback(async () => {\n    const path = '/users/' + userId;\n    const result = await fetchApi(path, 'GET')\n    setHeader(result.data.profile);\n    setUserStatus({\n      id: result.data.id,\n      currentUserId: result.current_user_id,\n      isCurrentUser: result.is_current_user,\n      isFriend: result.is_friend\n    });\n  }, [userId]);\n\n  useEffect(() => {\n    initHeader();\n  }, [initHeader]);\n\n  function updateHeader(newHeader) {\n    if (!isEqual(header, newHeader)) { setHeader(newHeader) }\n  }\n\n  const headerTag = (\n    <header id='user-header'>\n      <h2>{getFullName(header)}</h2>\n      <div \n        className='avatar'\n        style={{ backgroundImage: getAvatarUrl(header.avatar) }}>\n      </div>\n    </header>\n  );\n\n  return (\n      <div id=\"user\">\n        {headerTag}\n        <ul id='user-links'>\n          <li>\n            <NavLink \n              exact to={`${url}/`} \n              activeClassName='active'>\n              Messages\n            </NavLink>\n          </li>\n          <li>\n            <NavLink \n              to={`${url}/profile`}\n              activeClassName='active'>\n              Profile\n            </NavLink>\n          </li>\n          <li>\n            <NavLink \n              to={`${url}/friends`}\n              activeClassName='active'>\n              Friends\n            </NavLink>\n          </li>\n        </ul>\n        <Switch>\n          <Route exact path={path} render={() => (\n            <Messages userStatus={userStatus}/>\n          )}/>\n          <Route exact path={`${path}/profile`} render={() => (\n            <Profile userStatus={userStatus} onProfileUpdate={updateHeader}/>\n          )}/>\n          <Route exact path={`${path}/friends`} render={() => (\n            <Friends userStatus={userStatus}/>\n          )}/>\n        </Switch>\n      </div>\n  );\n}\n\nexport default User;","import React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\n\nfunction PrivateRoute ({ component: Component, currentUserId, ...rest }) {\n\n  return (\n    <Route\n      {...rest}\n      render={() => currentUserId ?\n        <Component currentUserId={currentUserId} /> :\n        <Redirect to='/login' />\n      }\n    />\n  )\n}\n\nexport default PrivateRoute\n","import './App.scss';\nimport { useCallback, useEffect, useState } from 'react'\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport { fetchApi } from './components/helpers/Fetching';\nimport NavBar from \"./components/NavBar\"\nimport LogIn from \"./components/LogIn\"\nimport SignUp from \"./components/SignUp\"\nimport DashBoard from \"./components/DashBoard\"\nimport User from \"./components/User\"\nimport PrivateRoute from \"./components/PrivateRoute\"\n\nfunction App() {\n\n  const [currentUserId, setCurrentUserId] = useState(false);\n  const [y, setY] = useState(0);\n  const [hideMenu, setHideMenu] = useState(false);\n\n  async function initAuthorization() {\n    const path = '/users/' + 0;\n    const id = await fetchApi(path, 'GET');\n    if (id) setCurrentUserId(id);\n  }\n\n  useEffect(() => {\n    initAuthorization();\n  },[currentUserId]);\n\n  async function handleLogin() {\n    await initAuthorization();\n  }\n\n  function handleLogout() {\n    setCurrentUserId(false);\n  }\n\n  const handleScroll = useCallback((e) => {\n    const window = e.currentTarget;\n    y > window.scrollY ? setHideMenu(false) : setHideMenu(true);\n    setY(window.scrollY);\n  }, [y])\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [handleScroll]);\n\n  const footer = (\n    <footer>\n      <span>Created by pudu</span>\n      <a href='https://github.com/pudu87'>\n        <i className=\"fab fa-github\"></i>\n      </a>\n    </footer>\n  )\n\n  return (\n    <div id=\"App\">\n      <Router>\n        <NavBar \n          onLogout={handleLogout}\n          userId={currentUserId}\n          hideMenu={hideMenu}/>\n        <Switch>\n          <Route path='/login'>\n            <LogIn onLogin={handleLogin}/>\n          </Route>\n          <Route path='/signup'>\n            <SignUp/>\n          </Route>\n          <PrivateRoute \n            exact path='/'\n            currentUserId={currentUserId} \n            component={DashBoard}/>\n          <PrivateRoute \n            path='/:userId' \n            currentUserId={currentUserId} \n            component={User}/>\n        </Switch>\n      </Router>\n      {footer}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport TimeAgo from 'javascript-time-ago'\nimport en from 'javascript-time-ago/locale/en'\nTimeAgo.addDefaultLocale(en)\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}