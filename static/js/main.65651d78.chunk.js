(this.webpackJsonpmacebook=this.webpackJsonpmacebook||[]).push([[0],{135:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(53),s=n.n(c),i=(n(63),n(2)),o=n.n(i),u=n(6),l=n(5),j=(n(65),n(10)),d=n(8),b=n(7),p="https://morning-tundra-31933.herokuapp.com/api";function f(e,t){var n={Authorization:localStorage.getItem("token")},a=t;return a instanceof FormData||(n["Content-Type"]="application/json",a=JSON.stringify(t)),{method:e,headers:n,body:a}}function m(e,t){var n=new FormData;return Object.entries(e).forEach((function(e){var a=Object(l.a)(e,2),r=a[0],c=a[1];n.append("".concat(t,"[").concat(r,"]"),c)})),n}function O(e,t,n){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(o.a.mark((function e(t,n,a){var r,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.split("/")[1],c=r.slice(0,-1),["POST","PUT"].includes(n)&&["posts","profiles"].includes(r)?a=m(a,c):a&&(a=Object(b.a)({},c,a)),s=f(n,a),e.next=7,fetch(p+t,s);case 7:if(401!==(i=e.sent).status){e.next=10;break}return e.abrupt("return",!1);case 10:if("DELETE"===n&&"friendships"!==r){e.next=14;break}return e.next=13,i.json();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n.p+"static/media/mace.a93de9a5.png",x=n(0);var v=function(e){var t=e.userId,n=e.hideMenu;function a(){return(a=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}},fetch(p+"/logout",n).then((function(t){return t.ok?(e.onLogout(),t.json()):t.json().then((function(e){return Promise.reject(e)}))})).then((function(e){return console.dir(e)})).catch((function(e){return console.error(e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var r=Object(x.jsx)("div",{className:"logo",style:{backgroundImage:"url(".concat(A,")")}});return Object(x.jsxs)("div",{id:"navbar",children:[Object(x.jsxs)("header",{children:[Object(x.jsx)("h1",{className:"macebook",children:"Macebook"}),r,Object(x.jsx)("p",{children:"a Very Medieval Social Network"})]}),!n&&Object(x.jsxs)("nav",{children:[Object(x.jsx)("div",{children:Object(x.jsx)(j.b,{to:"/",children:"Home"})}),Object(x.jsx)("div",{children:Object(x.jsx)(j.b,{to:"/"+t,children:"My Page"})}),Object(x.jsx)("div",{children:Object(x.jsx)(j.b,{to:"/login",onClick:function(){return a.apply(this,arguments)},children:Object(x.jsx)("i",{className:"fas fa-sign-out-alt"})})})]})]})};var k=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),b=i[0],f=i[1],m=Object(d.g)();function O(){return(O=Object(u.a)(o.a.mark((function t(n){var a,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:r,password:b}})},t.prev=2,t.next=5,fetch(p+"/login",a);case 5:if(!(c=t.sent).ok){t.next=15;break}return localStorage.setItem("token",c.headers.get("Authorization")),t.next=10,e.onLogin();case 10:return t.next=12,c.json();case 12:s=t.sent,m.push("/"),console.dir(s);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.error(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{id:"login",children:[Object(x.jsxs)("form",{onSubmit:function(e){return O.apply(this,arguments)},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(x.jsx)("input",{type:"email",id:"email",name:"email",value:r,onChange:function(e){c(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(x.jsx)("input",{type:"password",id:"password",name:"password",value:b,onChange:function(e){f(e.target.value)}})]}),Object(x.jsx)("input",{type:"submit",className:"button",value:"Log In"})]}),Object(x.jsx)(j.b,{to:"/signup",children:"No account yet? Sign up here."})]})},y=n(4);var S=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({first_name:"",last_name:""}),s=Object(l.a)(c,2),i=s[0],d=s[1];function f(e){r(Object(y.a)(Object(y.a)({},n),{},Object(b.a)({},e.target.name,e.target.value)))}function m(e){d(Object(y.a)(Object(y.a)({},i),{},Object(b.a)({},e.target.name,e.target.value)))}function h(){return(h=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/profiles/"+t,e.next=3,O(n,"PUT",i);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(x.jsxs)("div",{id:"signup",children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n,name:i})};fetch(p+"/signup",t).then((function(e){if(e.ok)return console.log(e.headers.get("Authorization")),localStorage.setItem("token",e.headers.get("Authorization")),e.json();throw new Error(e)})).then((function(e){!function(e){h.apply(this,arguments)}(e.data.id),console.dir(e)})).catch((function(e){return console.error(e)}))},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(x.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:f})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(x.jsx)("input",{type:"password",id:"password",name:"password",value:n.password,onChange:f})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(x.jsx)("input",{type:"text",required:!0,id:"firstName",name:"first_name",value:i.first_name,onChange:m})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(x.jsx)("input",{type:"text",required:!0,id:"lastName",name:"last_name",value:i.last_name,onChange:m})]}),Object(x.jsx)("input",{type:"submit",className:"button",value:"Sign Up"})]}),Object(x.jsx)(j.b,{to:"/login",children:"Have an account? Log in here."})]})},C=n(15);var g=function(e){var t=Object(a.useState)({content:"",photo:null}),n=Object(l.a)(t,2),r=n[0],c=n[1];function s(e){"file"===e.target.type?c(Object(y.a)(Object(y.a)({},r),{},Object(b.a)({},e.target.name,e.target.files[0]))):c(Object(y.a)(Object(y.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))}return Object(x.jsx)("article",{id:"new-post",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("textarea",{className:"content",name:"content",value:r.content,placeholder:"Add a new Post here...",onChange:s}),Object(x.jsxs)("div",{className:"file-upload",children:[Object(x.jsxs)("label",{className:"icon-button",children:[Object(x.jsx)("i",{className:"far fa-file-image"}),Object(x.jsx)("input",{type:"file",name:"photo",onChange:s})]}),Object(x.jsx)("button",{className:"icon-button",onClick:function(e){e.preventDefault(),c(Object(y.a)(Object(y.a)({},r),{},{photo:null}))},children:Object(x.jsx)("i",{className:"far fa-trash-alt"})}),Object(x.jsx)("span",{children:r.photo?r.photo.name:"No File Selected"})]}),Object(x.jsx)("input",{type:"submit",className:"button",value:"Post",onClick:function(t){t.preventDefault(),e.onNewPost(r),c({content:"",photo:null})}})]})})},N=n(18);function w(e){return e.first_name+" "+e.last_name}function E(e){return"url(".concat(e||"data:image/jpeg;base64,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",")")}function U(e){return e.split("_").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")}function P(e,t){return null===e[t]?"No File Selected":e[t].name?e[t].name:"Current ".concat(t)}var T=function(e){var t=e.post,n=Object(a.useState)({content:t.content,photo:t.photo}),r=Object(l.a)(n,2),c=r[0],s=r[1];function i(e){"file"===e.target.type?s(Object(y.a)(Object(y.a)({},c),{},Object(b.a)({},e.target.name,e.target.files[0]))):s(Object(y.a)(Object(y.a)({},c),{},Object(b.a)({},e.target.name,e.target.value))),console.log(c)}return Object(x.jsx)("article",{className:"edit-post",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("textarea",{className:"content",name:"content",value:c.content,onChange:i}),Object(x.jsxs)("div",{className:"file-upload",children:[Object(x.jsxs)("label",{className:"icon-button",children:[Object(x.jsx)("i",{className:"far fa-file-image"}),Object(x.jsx)("input",{type:"file",name:"photo",onChange:i})]}),Object(x.jsx)("button",{className:"icon-button",onClick:function(e){e.preventDefault(),s(Object(y.a)(Object(y.a)({},c),{},{photo:null}))},children:Object(x.jsx)("i",{className:"far fa-trash-alt"})}),Object(x.jsx)("span",{children:P(c,"photo")})]}),Object(x.jsx)("input",{type:"submit",className:"button",value:"Edit",onClick:function(t){if(t.preventDefault(),"string"===typeof c.photo){c.photo;var n=Object(N.a)(c,["photo"]);e.onEditPost(n)}else e.onEditPost(c)}})]})})};var L=function(e){var t=Object(a.useState)({content:""}),n=Object(l.a)(t,2),r=n[0],c=n[1],s="Post"===e.parent?"Comment":"Reply";return Object(x.jsx)("div",{className:"new-comment",children:Object(x.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onNewComment(r),c({content:""})},children:[Object(x.jsx)("textarea",{className:"content",name:"content",value:r.content,placeholder:"Add a new ".concat(s," here..."),onChange:function(e){c(Object(y.a)(Object(y.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))}}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"submit",className:"button",value:s})})]})})};var Z=function(e){var t=e.comment,n=Object(a.useState)({content:t.content}),r=Object(l.a)(n,2),c=r[0],s=r[1];return Object(x.jsx)("div",{className:"edit-comment",children:Object(x.jsxs)("form",{children:[Object(x.jsx)("textarea",{className:"content",name:"content",value:c.content,onChange:function(e){s(Object(y.a)(Object(y.a)({},c),{},Object(b.a)({},e.target.name,e.target.value)))}}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{type:"submit",className:"button",value:"Edit",onClick:function(n){n.preventDefault(),e.onEditComment(c,t.id)}})})]})})};var X=function(e){var t=e.data,n=t.user_id?t.user_id:t.id;return Object(x.jsxs)("header",{className:"user-display",children:[Object(x.jsx)("div",{className:"avatar",style:{backgroundImage:E(t.profile.avatar)}}),Object(x.jsx)(j.b,{to:"/".concat(n),className:"user-name",children:w(t.profile)})]})},V=n(141);var F=function(e){var t=e.id,n=e.entity,r=e.parent,c=e.likesCount,s=e.commentsCount,i=e.date,j=Object(a.useState)([]),d=Object(l.a)(j,2),b=d[0],p=d[1],f=Object(a.useState)(!0),m=Object(l.a)(f,2),h=m[0],A=m[1],v=Object(a.useState)(!1),k=Object(l.a)(v,2),y=k[0],S=k[1],C=Object(a.useRef)(null);function g(){return(g=Object(u.a)(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=7;break}return a="/likes/"+("post"===n?"P":"C")+t,e.next=5,O(a,"GET");case 5:r=e.sent,p(r);case 7:S(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){C.current&&C.current.contains(e.target)||S(!1)}Object(a.useEffect)((function(){return y?document.addEventListener("mousedown",N):document.removeEventListener("mousedown",N),function(){document.removeEventListener("mousedown",N)}}),[y]),Object(a.useEffect)((function(){A(!0)}),[c]);var E=b.map((function(e){return Object(x.jsx)("li",{children:w(e.profile)},e.user_id)})),U=Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"overlay"}),Object(x.jsxs)("div",{className:"likes",children:[Object(x.jsx)("i",{className:"fas fa-window-close hide"}),Object(x.jsxs)("div",{ref:C,children:[Object(x.jsx)("i",{className:"far fa-thumbs-up"}),Object(x.jsx)("ul",{children:E})]})]})]});return Object(x.jsxs)("ul",{className:"attributes",children:[y&&b.length>0&&U,Object(x.jsx)("li",{className:"likes-counter",children:Object(x.jsxs)("span",{onClick:function(){return g.apply(this,arguments)},children:[Object(x.jsx)("i",{className:"far fa-thumbs-up"})," ",c]})}),"Comment"!==r&&Object(x.jsx)("li",{className:"comments-counter",children:Object(x.jsxs)("span",{onClick:s>0?e.onShowChildren:void 0,children:[Object(x.jsx)("i",{className:"far fa-comment"})," ",s]})}),Object(x.jsx)("li",{className:"date",children:Object(x.jsx)(V.a,{date:new Date(i)})})]})};var G=function(e){var t=e.entity,n=e.edit,a=e.editable,r=e.likeable;return Object(x.jsxs)("div",{className:"options",children:[a&&Object(x.jsx)("button",{className:"toggle-edit-".concat(t," icon-button"),onClick:e.onToggleEdit,children:Object(x.jsx)("i",{className:"fas fa-"+(n?"undo":"edit")})}),a&&Object(x.jsx)("button",{className:"delete-".concat(t," icon-button"),onClick:e.onDelete,children:Object(x.jsx)("i",{className:"far fa-trash-alt"})}),Object(x.jsx)("button",{className:"like icon-button",onClick:function(){r?e.onUnlike():e.onLike()},children:Object(x.jsx)("i",{className:"fas fa-thumbs-up "+(r?"liked":"unliked")})})]})};var J=function e(t){var n=t.parent,r=t.comment,c=t.currentUserId,s=Object(a.useState)([]),i=Object(l.a)(s,2),j=i[0],d=i[1],b=Object(a.useState)(!1),p=Object(l.a)(b,2),f=p[0],m=p[1],h=Object(a.useState)(!1),A=Object(l.a)(h,2),v=A[0],k=A[1];function S(){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==j.length){e.next=6;break}return t="/comments/C"+r.id,e.next=4,O(t,"GET");case 4:n=e.sent,d(n);case 6:m(!f);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.commentable_id=r.id,n.commentable_type="Comment",e.next=4,O("/comments","POST",n);case 4:a=e.sent,d([].concat(Object(C.a)(j),[a])),t.onUpdateCommentCounter(a.commentable_id,1),f||S();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(o.a.mark((function e(a,r){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Post"!==n){e.next=4;break}t.onEditComment(a,r),e.next=9;break;case 4:return c="/comments/"+r,e.next=7,O(c,"PUT",a);case 7:s=e.sent,t.onUpdateReplies(s);case 9:k(!a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(o.a.mark((function e(){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Post"!==n){e.next=6;break}a=-1-r.comments_count,t.onDeleteComment(r.id,a),t.onUpdateCommentCounter(r.id,-1),e.next=11;break;case 6:return c="/comments/"+r.id,e.next=9,O(c,"DELETE");case 9:t.onUpdateReplies(r.id),t.onUpdateCommentCounter(r.commentable_id,-1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){d("number"===typeof e?j.filter((function(t){return t.id!==e})):j.map((function(t){return t.id===e.id?e:t})))}function V(e,t){var n=t?1:-1;d(j.map((function(a){return a.id===e?Object(y.a)(Object(y.a)({},a),{},{like_id:t,likes_count:a.likes_count+n}):a})))}function J(){return(J=Object(u.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={likeable_id:r.id,likeable_type:"Comment"},e.next=3,O("/likes","POST",n);case 3:a=e.sent,t.onUpdateLikeCounter(r.id,a.id);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/likes/"+r.like_id,e.next=3,O(n,"DELETE");case 3:t.onUpdateLikeCounter(r.id,!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=Object(x.jsx)(Z,{parent:n,comment:r,onEditComment:w}),M=Object(x.jsx)("div",{className:"comment-view",children:Object(x.jsx)("p",{className:"content",children:r.content})}),K=j.map((function(n){return Object(x.jsx)(e,{parent:"Comment",comment:n,currentUserId:c,onEditComment:w,onDeleteComment:U,onUpdateReplies:T,onUpdateCommentCounter:function(e,n){t.onUpdateCommentCounter(e,n)},onUpdateLikeCounter:V},n.id)}));return Object(x.jsxs)("li",{className:"comment",children:[Object(x.jsx)(X,{data:r}),v?I:M,Object(x.jsx)(F,{id:r.id,entity:"comment",parent:n,likesCount:r.likes_count,commentsCount:r.comments_count,date:r.created_at,onShowChildren:S}),Object(x.jsx)(G,{entity:"comment",edit:v,editable:c===r.user_id,likeable:r.like_id,onToggleEdit:function(){k(!v)},onDelete:U,onLike:function(){return J.apply(this,arguments)},onUnlike:function(){return z.apply(this,arguments)}}),f&&Object(x.jsx)("ul",{children:K}),"Post"===r.commentable_type&&Object(x.jsx)(L,{parent:"Comment",onNewComment:function(e){return N.apply(this,arguments)}})]})};var z=function(e){var t=e.post,n=e.currentUserId,r=Object(a.useState)([]),c=Object(l.a)(r,2),s=c[0],i=c[1],j=Object(a.useState)(!1),d=Object(l.a)(j,2),b=d[0],p=d[1],f=Object(a.useState)(!1),m=Object(l.a)(f,2),h=m[0],A=m[1];function v(){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==s.length){e.next=6;break}return n="/comments/P"+t.id,e.next=4,O(n,"GET");case 4:a=e.sent,i(a);case 6:p(!b);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(u.a)(o.a.mark((function n(a){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.commentable_id=t.id,a.commentable_type="Post",n.next=4,O("/comments","POST",a);case 4:r=n.sent,i([].concat(Object(C.a)(s),[r])),e.onUpdateCommentCounter(t.id,1),b||v();case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(e,t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/comments/"+n,e.next=3,O(a,"PUT",t);case 3:r=e.sent,i(s.map((function(e){return e.id===r.id?r:e})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(o.a.mark((function n(a,r){var c,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c="/comments/"+a,n.next=3,O(c,"DELETE");case 3:u=s.filter((function(e){return e.id!==a})),i(u),e.onUpdateCommentCounter(t.id,r);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function U(n,a){i(s.map((function(e){return e.id===n?Object(y.a)(Object(y.a)({},e),{},{comments_count:e.comments_count+a}):e}))),e.onUpdateCommentCounter(t.id,a)}function P(e,t){var n=t?1:-1;i(s.map((function(a){return a.id===e?Object(y.a)(Object(y.a)({},a),{},{like_id:t,likes_count:a.likes_count+n}):a})))}function Z(){return(Z=Object(u.a)(o.a.mark((function n(){var a,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={likeable_id:t.id,likeable_type:"Post"},n.next=3,O("/likes","POST",a);case 3:r=n.sent,e.onUpdateLikeCounter(t.id,r.id);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function V(){return(V=Object(u.a)(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a="/likes/"+t.like_id,n.next=3,O(a,"DELETE");case 3:e.onUpdateLikeCounter(t.id,!1);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var z=Object(x.jsx)(T,{post:t,onEditPost:function(n){e.onEditPost(n,t.id),A(!n)}}),I=Object(x.jsxs)("div",{className:"post-view",children:[t.photo&&Object(x.jsx)("img",{className:"photo",src:t.photo,alt:t.photo.split("/").pop().split(".")[0]}),Object(x.jsx)("p",{className:"content",children:t.content})]}),M=s.map((function(e){return Object(x.jsx)(J,{parent:"Post",comment:e,currentUserId:n,onEditComment:g,onDeleteComment:w,onUpdateCommentCounter:U,onUpdateLikeCounter:P},e.id)}));return Object(x.jsxs)("article",{className:"post",children:[Object(x.jsx)(X,{data:t}),h?z:I,Object(x.jsx)(F,{id:t.id,entity:"post",likesCount:t.likes_count,commentsCount:t.comments_count,date:t.created_at,onShowChildren:v}),Object(x.jsx)(G,{entity:"post",edit:h,editable:n===t.user_id,likeable:t.like_id,onToggleEdit:function(){A(!h)},onDelete:function(){e.onDeletePost(t.id)},onLike:function(){return Z.apply(this,arguments)},onUnlike:function(){return V.apply(this,arguments)}}),b&&Object(x.jsx)("ul",{children:M}),Object(x.jsx)(L,{parent:"Post",onNewComment:function(e){return S.apply(this,arguments)}})]})};var I=function(e){var t=e.userStatus,n=Object(a.useState)([]),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useCallback)(Object(u.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id?"/posts/"+t.id:"/posts",e.next=3,O(n,"GET");case 3:a=e.sent,s(a);case 5:case"end":return e.stop()}}),e)}))),[t]);function j(){return(j=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("/posts","POST",t);case 2:n=e.sent,s([n].concat(Object(C.a)(c)));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="/posts/"+n,e.next=3,O(a,"PUT",t);case 3:r=e.sent,s(c.map((function(e){return e.id===r.id?r:e})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/posts/"+t,e.next=3,O(n,"DELETE");case 3:s(c.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){s(c.map((function(n){return n.id===e?Object(y.a)(Object(y.a)({},n),{},{comments_count:n.comments_count+t}):n})))}function h(e,t){var n=t?1:-1;s(c.map((function(a){return a.id===e?Object(y.a)(Object(y.a)({},a),{},{like_id:t,likes_count:a.likes_count+n}):a})))}Object(a.useEffect)((function(){i()}),[i]);var A=t.isCurrentUser&&Object(x.jsx)(g,{onNewPost:function(e){return j.apply(this,arguments)}}),v=!t.isFriend&&!t.isCurrentUser&&Object(x.jsx)("div",{children:"Befriend this user if you want to see more"}),k=c.map((function(e,n){return Object(x.jsxs)("div",{children:[(0!==n||t.isCurrentUser)&&Object(x.jsx)("hr",{}),Object(x.jsx)(z,{post:e,currentUserId:t.currentUserId,onUpdateCommentCounter:m,onUpdateLikeCounter:h,onEditPost:d,onDeletePost:p})]},e.id)}));return Object(x.jsxs)("div",{id:"messages",children:[A,v,k]})};var M=function(e){var t={id:!1,currentUserId:e.currentUserId,isCurrentUser:!0};return Object(x.jsx)("div",{id:"dashboard",children:Object(x.jsx)(I,{userStatus:t})})},K=n(55),R=n.n(K);var D=function(e){var t=Object(a.useState)(e.profile),n=Object(l.a)(t,2),r=n[0],c=n[1];function s(e){"file"===e.target.type?c(Object(y.a)(Object(y.a)({},r),{},Object(b.a)({},e.target.name,e.target.files[0]))):c(Object(y.a)(Object(y.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))}var i=Object.keys(r).map((function(e){return"avatar"!==e&&Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{children:U(e)+": "}),Object(x.jsx)("input",{type:"text",name:e,value:r[e],onChange:s})]},e)}));return Object(x.jsxs)("div",{id:"profile-edit",children:[Object(x.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),"string"===typeof r.avatar){r.avatar;var n=Object(N.a)(r,["avatar"]);e.onProfileChange(n)}else e.onProfileChange(r)},children:[i,Object(x.jsxs)("div",{className:"file-upload",children:[Object(x.jsx)("label",{children:"Avatar:"}),Object(x.jsx)("input",{type:"file",id:"avatar",name:"avatar",onChange:s}),Object(x.jsx)("label",{className:"button",htmlFor:"avatar",children:"Change"}),Object(x.jsx)("span",{children:P(r,"avatar")})]}),Object(x.jsx)("input",{type:"submit",className:"button",value:"Confirm Changes"})]}),Object(x.jsx)("button",{className:"button",onClick:function(){e.onChangeView()},children:"Back To View"})]})};var q=function(e){var t=e.userStatus,n=Object(a.useState)({}),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!0),j=Object(l.a)(i,2),d=j[0],b=j[1],p=Object(a.useCallback)(Object(u.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/profiles/"+t.id,e.next=3,O(n,"GET");case 3:a=e.sent,s(a);case 5:case"end":return e.stop()}}),e)}))),[t]);function f(){return(f=Object(u.a)(o.a.mark((function n(a){var r,c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="/profiles/"+t.id,n.next=3,O(r,"PUT",a);case 3:c=n.sent,s(c),m(),i={first_name:c.first_name,last_name:c.last_name,avatar:c.avatar},e.onProfileUpdate(i);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function m(){b(!d)}Object(a.useEffect)((function(){p()}),[p]);var h=Object.entries(c).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return"avatar"!==n&&Object(x.jsxs)("tr",{className:n,children:[Object(x.jsx)("td",{children:U(n)+": "}),Object(x.jsx)("td",{children:a})]},n)})),A=Object(x.jsxs)("div",{id:"profile-view",children:[Object(x.jsx)("table",{children:Object(x.jsx)("tbody",{children:h})}),t.isCurrentUser&&Object(x.jsx)("button",{className:"button",onClick:m,children:"Change Profile"})]}),v=d?A:Object(x.jsx)(D,{profile:c,onProfileChange:function(e){return f.apply(this,arguments)},onChangeView:m}),k=Object(x.jsx)("div",{children:"Befriend this user if you want to see more"});return Object(x.jsx)("div",{id:"profile",children:t.isFriend||t.isCurrentUser?v:k})},B=n(56),H=n.n(B);var Y=function(e){var t=e.userStatus,n=Object(a.useState)([]),r=Object(l.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)({confirmed:!0,pending:!0,proposed:!0,possible:!0}),j=Object(l.a)(i,2),d=j[0],p=j[1],f=Object(a.useCallback)(Object(u.a)(o.a.mark((function e(){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/friendships/"+t.id,e.next=3,O(n,"GET");case 3:a=e.sent,s(a);case 5:case"end":return e.stop()}}),e)}))),[t]);Object(a.useEffect)((function(){f()}),[f]);var m={confirmed:{text:"Defriend",method:"DELETE"},pending:{text:"Accept Request",method:"PUT"},proposed:{text:"Awaiting Confirmation...",method:!1},possible:{text:"Request",method:"POST"}};function h(){return(h=Object(u.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="POST"===t?"/friendships":"/friendships/"+n,r="POST"===t?{friend_id:n}:null,e.next=4,O(a,t,r);case 4:A(e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){var t,n=c[e.from].filter((function(t){return t.id!==e.data.id})),a=[e.data].concat(Object(C.a)(c[e.to]));s(Object(y.a)(Object(y.a)({},c),{},(t={},Object(b.a)(t,e.from,n),Object(b.a)(t,e.to,a),t)))}var v=Object.keys(c).map((function(e){return!H()(c[e])&&Object(x.jsxs)("li",{className:"category",children:[Object(x.jsxs)("header",{onClick:function(){return function(e){p(Object(y.a)(Object(y.a)({},d),{},Object(b.a)({},e,!d[e])))}(e)},children:[Object(x.jsx)("i",{className:"fas fa-chevron-"+(d[e]?"down":"up")}),"\xa0",e]}),d[e]&&Object(x.jsx)("ul",{children:k(e)})]},e)}));function k(e){return c[e].map((function(n){return Object(x.jsxs)("li",{className:"friend",children:[Object(x.jsx)(X,{data:n}),t.isCurrentUser&&(a=m[e],r=n.id,Object(x.jsx)("div",{className:"friend-request",children:a.method?Object(x.jsx)("button",{className:"button",onClick:function(){return function(e,t){return h.apply(this,arguments)}(a.method,r)},children:a.text}):a.text}))]},n.id);var a,r}))}return Object(x.jsx)("div",{id:"friends",children:Object(x.jsx)("ul",{children:v})})};var W=function(){var e=Object(d.i)(),t=e.path,n=e.url;t=t.replace(/\/$/,""),n=n.replace(/\/$/,"");var r=Object(d.h)().userId,c=Object(a.useState)({first_name:"",last_name:"",avatar:null}),s=Object(l.a)(c,2),i=s[0],b=s[1],p=Object(a.useState)({id:r,currentUserId:null,isCurrentUser:!1,isFriend:!0}),f=Object(l.a)(p,2),m=f[0],h=f[1],A=Object(a.useCallback)(Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/users/"+r,e.next=3,O(t,"GET");case 3:n=e.sent,b(n.data.profile),h({id:n.data.id,currentUserId:n.current_user_id,isCurrentUser:n.is_current_user,isFriend:n.is_friend});case 6:case"end":return e.stop()}}),e)}))),[r]);function v(e){R()(i,e)||b(e)}Object(a.useEffect)((function(){A()}),[A]);var k=Object(x.jsxs)("header",{id:"user-header",children:[Object(x.jsx)("h2",{children:w(i)}),Object(x.jsx)("div",{className:"avatar",style:{backgroundImage:E(i.avatar)}})]});return Object(x.jsxs)("div",{id:"user",children:[k,Object(x.jsxs)("ul",{id:"user-links",children:[Object(x.jsx)("li",{children:Object(x.jsx)(j.c,{exact:!0,to:"".concat(n,"/"),activeClassName:"active",children:"Messages"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.c,{to:"".concat(n,"/profile"),activeClassName:"active",children:"Profile"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.c,{to:"".concat(n,"/friends"),activeClassName:"active",children:"Friends"})})]}),Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{exact:!0,path:t,render:function(){return Object(x.jsx)(I,{userStatus:m})}}),Object(x.jsx)(d.b,{exact:!0,path:"".concat(t,"/profile"),render:function(){return Object(x.jsx)(q,{userStatus:m,onProfileUpdate:v})}}),Object(x.jsx)(d.b,{exact:!0,path:"".concat(t,"/friends"),render:function(){return Object(x.jsx)(Y,{userStatus:m})}})]})]})};var _=function(e){var t=e.component,n=e.currentUserId,a=Object(N.a)(e,["component","currentUserId"]);return Object(x.jsx)(d.b,Object(y.a)(Object(y.a)({},a),{},{render:function(){return n?Object(x.jsx)(t,{currentUserId:n}):Object(x.jsx)(d.a,{to:"/login"})}}))};var Q=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),s=Object(l.a)(c,2),i=s[0],b=s[1],p=Object(a.useState)(!1),f=Object(l.a)(p,2),m=f[0],h=f[1];function A(){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/users/0",e.next=3,O("/users/0","GET");case 3:(t=e.sent)&&r(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){A()}),[n]);var g=Object(a.useCallback)((function(e){var t=e.currentTarget;i>t.scrollY?h(!1):h(!0),b(t.scrollY)}),[i]);Object(a.useEffect)((function(){return window.addEventListener("scroll",g),function(){return window.removeEventListener("scroll",g)}}),[g]);var N=Object(x.jsxs)("footer",{children:[Object(x.jsx)("span",{children:"Created by pudu"}),Object(x.jsx)("a",{href:"https://github.com/pudu87",children:Object(x.jsx)("i",{className:"fab fa-github"})})]});return Object(x.jsxs)("div",{id:"App",children:[Object(x.jsxs)(j.a,{children:[Object(x.jsx)(v,{onLogout:function(){r(!1)},userId:n,hideMenu:m}),Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{path:"/login",children:Object(x.jsx)(k,{onLogin:function(){return C.apply(this,arguments)}})}),Object(x.jsx)(d.b,{path:"/signup",children:Object(x.jsx)(S,{})}),Object(x.jsx)(_,{exact:!0,path:"/",currentUserId:n,component:M}),Object(x.jsx)(_,{path:"/:userId",currentUserId:n,component:W})]})]}),N]})},$=n(140),ee=n(57);$.a.addDefaultLocale(ee),s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Q,{})}),document.getElementById("root"))},63:function(e,t,n){},65:function(e,t,n){}},[[135,1,2]]]);
//# sourceMappingURL=main.65651d78.chunk.js.map